Tmux – терминальный мультиплексор
=================================

Tmux — это консольная утилита, предоставляющая пользователю доступ к
нескольким терминалам в рамках одного экрана. Простыми словами,
используя эту утилиту можно в одном окне открыть несколько терминальных
окон. Также возможно подключение к существующей сессии из другого
рабочего места не прерывая выполнение определенных задач.

.. code:: bash

    tmux-new-1024x556.png

Как видно из скриншота, у нас несколько консольных панелей в одном окне.
Очень удобно работать. Приступим к более подробному рассмотрению. Для
установки tmux утилиты в операционной системе Centos достаточно
выполнить команду:

.. code:: bash

    yum install tmux

После установки программы можно приступать к использованию

Вводим команду:

.. code:: bash

    tmux или tmux new

Создается новая сессия, в которой будем дальше работать. Понять, что мы
находимся в tmux можно по наличию зеленой строки внизу консоли, на
которой размещены дата и время.

.. code:: bash

    tmux-console-1024x556.png

По умолчанию создается одна панель на весь экран. Для того, чтобы
добавить вертикальную панель необходимо воспользоваться сервисными
клавишами «Ctrl+B»(система понимает, что вы вводите не консольную
команду, а пользуетесь функцией терминального мультиплексера), далее
нажимаете «Shift+%». Справа создается еще одна панель.

.. code:: ipython3

    tmux-right-panel-1024x552.png

Теперь в рамках одного окна у вас есть две рабочие зоны.

Для переключения между панелями воспользуйтесь клавишами «Ctrl+B» далее
стрелочками вправо или влево.

Для создания горизонтальной панели нажмите «Crtl+B» далее «Shift+”»
(кавычка находится на русской букве «Э»)

.. code:: ipython3

    tmux-new-1024x556.png

Для изменения размера определенной панели есть следующая комбинация
клавиш:

«Ctrl+B» затем зажимаем Alt и стрелочками изменяем размер.

.. code:: ipython3

    tmux-size-1024x555.png

Для изменения местоположения панели воспользуется комбинацией клавиш
«Ctrl+B» затем «}».

.. code:: ipython3

    1.png


::


      File "<ipython-input-9-4da4a96d18b7>", line 1
        1.png
          ^
    SyntaxError: invalid syntax



Также есть возможность создать еще одно окно. Для этого предусмотрена
команда «Ctrl+B» «c»

Для просмотра списка окон можно воспользоваться командой «Ctrl+B» «w»

.. code:: ipython3

    2.png


::


      File "<ipython-input-10-1b028d36b196>", line 1
        2.png
          ^
    SyntaxError: invalid syntax



Как видно из скриншота, у нас создалось второе окно. Для удобного
распознавания нужного окна можно присвоить им имена:

.. code:: bash

    tmux rename-window masinc

Также можно воспользоваться командной строкой терминала выполнив команду
«Ctrl+B» «:»

И в командной строке набрать команду «remane-window masinc» (где
«masinc» это новое имя)

Для переименования сессии применяется следующая команда: «tmux
rename-session –t 0 masinc»

-t указывает на номер сессии, если этот параметр опустить будет
переименована существующая сессия.

Для просмотра количества существующих сессий воспользуемся командой

.. code:: bash

    tmux ls

Создадим еще одну сессию tmux, для этого выйдем из существующей сессии:

.. code:: bash

    tmux detach (или Ctrl+B d) 
    
.. code:: bash

    tmux

Посмотрим список созданных сессий:

.. code:: bash

    tmux ls

.. code:: bash

    3.png


::


      File "<ipython-input-12-f5b19b269718>", line 1
        3.png
          ^
    SyntaxError: invalid syntax



Для подключения к определенной сессий воспользуемся командой:

.. code:: bash

    tmux a –t masinc

Мы подключились к сесси «masinc».

Для закрытия сессии необходимо закрыть все панели командой «Ctrl+B» «x».
Затем «у» для подтверждения.

Также для завершения сессии можно воспользоваться командой:

.. code:: bash

    tmux kill-session

Для отключения от сессии с сохранением ее работоспособности есть
несколько вариантов:

.. code:: bash

    tmux detach или # tmux d или «Ctrl+B» «d».

Также есть возможность управлять размером окон с помощью мышки. Для
этого в конфигурационный файл /etc/tmux.conf следует добавить следующие
строки:

.. code:: bash

    set -g mouse-resize-pane on

Для применения настроек необходимо перечитать конфигурационный файл

.. code:: bash

    tmux source-file /etc/tmux.conf

Если вы хотите переподключиться к другой сессии выполните команду:

.. code:: bash

    Tmux switch –t `name <Где%20name%20имя%20сессии>`__

Для прокрутки страницы вверх используйте комбинацию клавиш «Ctrl+B»
«PgUp/PgDwn»

Также очень много удобных дополнительных функций можно добавить внеся
необходимые изменения в конфигурационный файл. Воспользовавшить мануалом
«man tmux» можно получить дополнительную информацию.

“убить” сессию можно следующей командой:

.. code:: bash

    ctrl + d

Создает новую вкладку

.. code:: bash

    ctrl + b + c

переименовать файл можно:

ctrl + b + , 

Выход из тмукса:

ctrl + b + d

Разделить окно по вертикали:

ctrl + b + %

Разделить окно по горизонтали:

ctrl + b + "

Переход между окнами: (к правому окну)

ctrl + b + -> 

Открыть диспетчер задач:

htop

